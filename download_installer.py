import urllib, os, glob
#Author: Vader19695
#Date: 10/11/16
#Version: 1.0



#Enter in the path you wish to save the file into
#Replace USERNAME with your local username
#Repalce FILELOCATION with the location you wish to save the file
#(i.e Desktop, Documents, Downloads)
#NOTE: Always ensure that the filelocation string ends in \\
path='C:\\Users\\USERNAME\\FILELOCATION\\'


response = urllib.urlopen('https://downloads.malwarebytes.com/file/mbam_current/')
filename=path+response.geturl().split('/')[-1]
filesize=int(response.info()['Content-Length'])

#Determine if file of same name already exists
if(os.path.isfile(filename)):
	exit()
	
#Delete previous version of the installer
for f in glob.glob(os.path.join(filelocation+'mbam*')):
        os.remove(f)

#Download file specified at the url and save in filename.part
urllib.urlretrieve('https://downloads.malwarebytes.com/file/mbam_current/', '%s.part'%filename)

#Determine if file downloaded is the size expected
#Remove .part from filename
if(os.path.getsize('%s.part'%filename) == filesize):
	os.rename('%s.part'%filename, '%s'%filename)
else:
	os.remove('%s.part'%filename)
